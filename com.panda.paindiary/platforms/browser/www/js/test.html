<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>
<body>





    <div id="pandaloading"></div>

<script language="JavaScript">

    function buildLoader(gridsize) {
        $("#pandaloading").height("100%").width("100%").css('position','absolute').css('top',0).css('left',0);
        for (i=0;i<gridsize;i++) {
            $("#pandaloading").append('<div class="pandaloader_row" id="pandaloader_row' + i + '"></div>');
            for (j=0;j<gridsize;j++) {
                $("#pandaloader_row" + i).append('<div id="pandaloader_row' + i + '_col' + j + '" class="pandaloader_box"></div>');    
            }      
        }
        var sizeofeach=(100/gridsize);
        $(".pandaloader_row").height(sizeofeach + "%");
        $(".pandaloader_box").height("100%").width(sizeofeach + "%").css("display","inline-block");
        $(".pandaloader_box").on("mouseover",function() {
            $(this).css('background-color',"#FFFFFF");
        });
        $(".pandaloader_box").on("click",function() {
            $(this).css('background-color',"red");
            var thisguy = $(this).attr('id');
            thisguy = thisguy.split("_row")[1];
            var row = thisguy.split("_col")[0];
            var col = thisguy.split("_col")[1];
            for (i=row;i>=0;i--) {
                $("#pandaloader_row" + i + "_col" + col).css("background-color","red");
            }
            for (i=row;i<gridsize;i++) {
                $("#pandaloader_row" + i + "_col" + col).css("background-color","red");    
            }
            for (i=col;i>=0;i--) {
                $("#pandaloader_row" + row + "_col" + i).css("background-color","red");
            }
            for (i=col;i<gridsize;i++) {
                $("#pandaloader_row" + row + "_col" + i).css("background-color","red");    
            }
            
        });
        
        
        setInterval(function(){
            var row = Math.floor(Math.random()*gridsize);
            var col = Math.floor(Math.random()*gridsize);
            var colour = "#" + (Math.floor(Math.random()*10) * 111111);
            $("#pandaloader_row" + row + "_col" + col).css("background-color",colour);
        },20);
    }

    buildLoader(100);
</script>

    </body>
</html>